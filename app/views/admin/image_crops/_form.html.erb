<div class="row">
  <div id="image_crop" class="col-12">
    <div class="page-header align-center">
      <h1><icon class="icon-crop"></icon> Crop <%= @image_crop.image.name %></h1>
    </div>
    <div class="crop-workspace">
      <img id="image" src="<%= cacheBustUrl("/image_previews/crop_#{@image_crop.id}.#{@image_crop.file_type}") %>" style="max-width:100%;" crossorigin="anonymous" />
    </div>
    <div class="crop-controls">
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <label class="input-group-text" for="inputGroupSelect01">
            <i class="icon-crop" aria-hidden="true"></i>
          </label>
        </div>
        <select class="custom-select" id="aspect_ratio">
          <option value="NaN" selected>Custom</option>
          <option value="1">1:1 Square</option>
          <option value="0.5">1:2 Portrait</option>
          <option value="2">2:1 Landscape</option>
          <option value="0.3333">1:3 Portrait</option>
          <option value="3">3:1 Landscape</option>
          <option value="0.25">1:4 Portrait</option>
          <option value="4">4:1 Landscape</option>
          <option value="0.6667">2:3 Portrait (DSLR full frame)</option>
          <option value="1.5">3:2 Landscape (DSLR full frame)</option>
          <option value="0.75">3:4 Portrait</option>
          <option value="1.3333">4:3 Landscape</option>
          <option value="0.8">4:5 Portrait</option>
          <option value="1.25">5:4 Landscape</option>
          <option value="0.714">5:7 Portrait</option>
          <option value="1.4">7:5 Landscape</option>
        </select>
        <div class="input-group-append">
          <button class="input-group-text" type="button">Aspect Ratio</button>
        </div>
      </div>

      <button type="button" id="rotate_45_left" class="btn btn-outline-secondary btn-sm">
        <i class="icon-ccw" aria-hidden="true"></i>
      </button>
      <button type="button" id="rotate_45_right" class="btn btn-outline-secondary btn-sm">
        <i class="icon-cw" aria-hidden="true"></i>
      </button>
      <button type="button" id="rotate_left" class="btn btn-outline-secondary btn-sm">
        <i class="icon-left-dir" aria-hidden="true"></i>
        <i class="icon-up-dir" aria-hidden="true"></i>
      </button>
      <button type="button" id="rotate_right" class="btn btn-outline-secondary btn-sm">
        <i class="icon-right-dir" aria-hidden="true"></i>
        <i class="icon-down-dir" aria-hidden="true"></i>
      </button>
      <button type="button" id="flip_horizontal" class="btn btn-outline-secondary btn-sm">
        <i class="icon-resize-horizontal"></i>
      </button>
      <button type="button" id="flip_vertical" class="btn btn-outline-secondary btn-sm">
        <i class="icon-resize-vertical"></i>
      </button>
      <button type="button" id="zoom_in" class="btn btn-outline-secondary btn-sm">
        <i class="icon-zoom-in"></i>
      </button>
      <button type="button" id="zoom_out" class="btn btn-outline-secondary btn-sm">
        <i class="icon-zoom-out"></i>
      </button>
    </div>
    <div class="crop-controls">
      <%= form_for([:admin, @image_crop], :html => {:role => 'form', :class => "formFor"}) do |f| %>
        <button type="button" id="reset" class="btn btn-outline-secondary btn-med">
          <i class="icon-arrows-cw"></i> Reset
        </button>
        <button type="button" id="save" class="btn btn-outline-secondary btn-med">
          <i class="icon-crop"></i> Crop it!
        </button>
        <%= link_to admin_image_path(@image_crop.image) do %>
        <button type="button" id="done" class="btn btn-outline-secondary btn-med">
          <i class="icon-cancel"></i> Done
        </button>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
<imgid id="image_id" name="image_id" value="<%= @image_crop.image.id %>" />
<div class="modal fade docs-cropped" id="getCroppedCanvasModal" role="dialog" aria-hidden="true" aria-labelledby="getCroppedCanvasTitle" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="getCroppedCanvasTitle">Cropped</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="img-preview preview-lg"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade docs-cropped" id="loadingModal" role="dialog" aria-hidden="true" aria-labelledby="loadingModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="loadingModalTitle"></h5>
      </div>
      <div class="modal-body">
        <div class="activity-indicator">
          <icon class="icon-spin1 animate-spin"></icon>
        </div>
      </div>
      <div class="modal-footer">
        &nbsp;
      </div>
    </div>
  </div>
</div>





